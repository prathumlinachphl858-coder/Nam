-- ================= LOAD RAYFIELD ================= local Rayfield = loadstring(game:HttpGet("https://sirius.menu/rayfield"))()

local Window = Rayfield:CreateWindow({ Name = "NamX Control Hub", LoadingTitle = "NamX Control Hub", LoadingSubtitle = "by Nam", ConfigurationSaving = { Enabled = false }, KeySystem = false })

local ESPTab   = Window:CreateTab("ESP", 4483362458) local PerfTab  = Window:CreateTab("Performance", 4483362458) local AimTab   = Window:CreateTab("Aimbot", 4483362458) local MiscTab  = Window:CreateTab("Misc", 4483362458) local BuildTab = Window:CreateTab("Build", 4483362458)

-- ================= SERVICES ================= local Players = game:GetService("Players") local RunService = game:GetService("RunService") local Camera = workspace.CurrentCamera local LocalPlayer = Players.LocalPlayer local Lighting = game:GetService("Lighting")

-- ================== ESP SETTINGS ================== local ESP_ENABLED = false local SKELETON_ENABLED = true local BOX_ENABLED = true local LINE_ENABLED = true local HEALTH_ENABLED = true local DIST_ENABLED = true

local ESP_TABLE = {}

local function newLine(t) local l = Drawing.new("Line") l.Thickness = t or 1 l.Visible = false return l end

local function createESP(player) if player == LocalPlayer then return end

local skeleton = {}
for _,partName in pairs({"Head","HumanoidRootPart","LeftUpperArm","RightUpperArm","LeftUpperLeg","RightUpperLeg","LeftLowerArm","RightLowerArm","LeftLowerLeg","RightLowerLeg","Torso"}) do
    skeleton[partName] = newLine(2)
end

local box = Drawing.new("Square")
box.Filled = false
box.Thickness = 1
box.Visible = false

local tracer = newLine(1)
local health = newLine(3)

local name = Drawing.new("Text")
name.Size = 13
name.Center = true
name.Outline = true
name.Visible = false

local dist = Drawing.new("Text")
dist.Size = 12
dist.Center = true
dist.Outline = true
dist.Visible = false

ESP_TABLE[player] = {
    skeleton = skeleton,
    box = box,
    tracer = tracer,
    health = health,
    name = name,
    dist = dist
}

end

local function removeESP(player) if ESP_TABLE[player] then for _,v in pairs(ESP_TABLE[player]) do if type(v) == "table" then for _,x in pairs(v) do x:Remove() end else v:Remove() end end ESP_TABLE[player] = nil end end

for _,p in ipairs(Players:GetPlayers()) do createESP(p) end Players.PlayerAdded:Connect(createESP) Players.PlayerRemoving:Connect(removeESP)

-- ================== ESP RENDER ================== RunService.RenderStepped:Connect(function() local myChar = LocalPlayer.Character local myHRP = myChar and myChar:FindFirstChild("HumanoidRootPart")

for player,esp in pairs(ESP_TABLE) do
    local char = player.Character
    local hum = char and char:FindFirstChildOfClass("Humanoid")
    local hrp = char and char:FindFirstChild("HumanoidRootPart")

    for _,v in pairs(esp) do
        if type(v)=="table" then
            for _,x in pairs(v) do x.Visible=false end
        else
            v.Visible=false
        end
    end

    if not ESP_ENABLED or not hum or hum.Health<=0 or not hrp then continue end

    local color = (player.Team==LocalPlayer.Team) and Color3.fromRGB(0,255,0) or Color3.fromRGB(255,0,0)
    local pos,on = Camera:WorldToViewportPoint(hrp.Position)
    if not on then continue end

    local size = Vector2.new(2000/pos.Z,3000/pos.Z)
    local x,y = pos.X-size.X/2,pos.Y-size.Y/2

    if BOX_ENABLED then
        esp.box.Size = size
        esp.box.Position = Vector2.new(x,y)
        esp.box.Color = color
        esp.box.Visible = true
    end

    if LINE_ENABLED then
        esp.tracer.From = Vector2.new(Camera.ViewportSize.X/2,Camera.ViewportSize.Y)
        esp.tracer.To = Vector2.new(pos.X,pos.Y)
        esp.tracer.Color = color
        esp.tracer.Visible = true
    end

    if HEALTH_ENABLED then
        local hp = hum.Health/hum.MaxHealth
        esp.health.From = Vector2.new(x-5,y+size.Y)
        esp.health.To = Vector2.new(x-5,y+size.Y-(size.Y*hp))
        esp.health.Color = Color3.fromRGB(0,255,0)
        esp.health.Visible = true
    end

    esp.name.Text = player.Name
    esp.name.Color = color
    esp.name.Position = Vector2.new(pos.X,y-14)
    esp.name.Visible = true

    if DIST_ENABLED and myHRP then
        esp.dist.Text = math.floor((myHRP.Position-hrp.Position).Magnitude).." studs"
        esp.dist.Color = color
        esp.dist.Position = Vector2.new(pos.X,y-2)
        esp.dist.Visible = true
    end

    if SKELETON_ENABLED then
        local function drawBone(part1,part2)
            local p1 = char:FindFirstChild(part1)
            local p2 = char:FindFirstChild(part2)
            if p1 and p2 then
                local pos1,on1 = Camera:WorldToViewportPoint(p1.Position)
                local pos2,on2 = Camera:WorldToViewportPoint(p2.Position)
                if on1 and on2 then
                    local line = esp.skeleton[part1]
                    line.From = Vector2.new(pos1.X,pos1.Y)
                    line.To = Vector2.new(pos2.X,pos2.Y)
                    line.Color = color
                    line.Visible = true
                end
            end
        end
        drawBone("Head","Torso")
        drawBone("Torso","LeftUpperArm")
        drawBone("Torso","RightUpperArm")
        drawBone("Torso","LeftUpperLeg")
        drawBone("Torso","RightUpperLeg")
        drawBone("LeftUpperArm","LeftLowerArm")
        drawBone("RightUpperArm","RightLowerArm")
        drawBone("LeftUpperLeg","LeftLowerLeg")
        drawBone("RightUpperLeg","RightLowerLeg")
    end
end

end)
